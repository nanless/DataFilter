# Step-Audio-2 人声检测配置文件
# 参考: https://github.com/step-ai/Step-Audio2

# ============================================
# 模型配置
# ============================================

model:
  # Step-Audio-2 模型路径或模型 ID
  model_path: "/root/code/github_repos/Step-Audio2/Step-Audio-2-mini"
  
  # 模型缓存目录（如果使用 HuggingFace 模型）
  cache_dir: "./downloaded_models"

# ============================================
# 音频处理配置
# ============================================

audio:
  # 目标采样率（Step-Audio-2 会自动处理）
  target_sample_rate: 16000
  
  # 支持的音频格式
  supported_formats:
    - ".wav"
    - ".flac"
    - ".mp3"
    - ".ogg"
    - ".m4a"
  
  # 最大音频长度（秒）
  max_duration: 300  # 5 分钟

# ============================================
# 推理配置
# ============================================

inference:
  # 提示词模板
  prompt: "Does this audio contain human voice, such as speaking, talking, singing, whispering, laughing, shouting, or any other human vocal sounds? Please answer with ONLY 'yes' or 'no'."
  
  # 生成参数
  generation:
    max_new_tokens: 10
    temperature: 0.1
    do_sample: false
  
  # 系统提示词
  system_prompt: "You are an expert in audio analysis, please analyze the audio content and answer the questions accurately."

# ============================================
# 处理配置
# ============================================

processing:
  # 并行进程数
  num_processes: 1
  
  # 使用的设备（逗号分隔）
  devices: "cuda:0"  # 例如: "cuda:0,cuda:1" 或 "cpu"
  
  # 批处理大小（暂未使用）
  batch_size: 1

# ============================================
# 输出配置
# ============================================

output:
  # 是否保持原始目录结构
  keep_structure: true
  
  # 是否复制文件（false 则移动）
  copy_files: true
  
  # 是否输出详细日志
  verbose: true

# ============================================
# 过滤规则
# ============================================

filter:
  # 人声判断规则
  has_voice_keywords:
    - "yes"
  
  no_voice_keywords:
    - "no"
  
  # 输出动作
  # "copy_no_voice": 复制无人声文件到目标文件夹
  # "copy_has_voice": 复制有人声文件到目标文件夹
  action: "copy_no_voice"

